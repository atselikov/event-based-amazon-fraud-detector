{"modules":[{"id":"9d2fc362-8e9a-4a27-bbe0-a30b00699858","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"a0ff0ba7-8d11-4e27-9eb3-6fc32f6dfbd5"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":178,"y":15}}},{"id":"8435cfba-d1a7-4352-832c-25e3291f0d48","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1306,"y":329}}},{"id":"0f1c5fd9-6a54-4e0a-a9c2-d2acb6876880","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8435cfba-d1a7-4352-832c-25e3291f0d48"}],"parameters":[{"name":"Text","value":"<speak>\n<p>$.Attributes.Salutation $.Attributes.Name,\nthanks for your feedback. Your credit card is now blocked. Please contact our customer care center for next steps.\n</p>\n<p>Have a wonderful day!</p>\n</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":993,"y":455},"useDynamic":false}},{"id":"76b9bbd3-b66e-43a2-8b15-a1c2e3cfffe0","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8435cfba-d1a7-4352-832c-25e3291f0d48"}],"parameters":[{"name":"Text","value":"<speak>\n<p>$.Attributes.Salutation $.Attributes.Name,\nsomething went wrong on our side. Please contact our customer care center as soon as possible. Thanks!\n</p>\n</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":999.3078002929688,"y":644.9109497070312},"useDynamic":false}},{"id":"c82f7afb-c615-4b92-9df2-1e8b99b4e63e","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8435cfba-d1a7-4352-832c-25e3291f0d48"}],"parameters":[{"name":"Text","value":"<speak>\n<p>$.Attributes.Salutation $.Attributes.Name,\nthanks for your feedback. I won't block your credit card. In case of further inquiries please call our customer contact center.\n</p>\n<p>Have a wonderful day!</p>\n</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":701,"y":182},"useDynamic":false}},{"id":"c899490d-428f-4fbb-aac0-9eeadaad4941","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"0f1c5fd9-6a54-4e0a-a9c2-d2acb6876880"},{"condition":"Error","transition":"76b9bbd3-b66e-43a2-8b15-a1c2e3cfffe0"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:eu-central-1:013349204568:function:block-credit-card","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":714,"y":455},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"63b6ee6c-6c73-4876-b9be-5ebb5c9e3719","type":"PlayPrompt","branches":[{"condition":"Success","transition":"c899490d-428f-4fbb-aac0-9eeadaad4941"}],"parameters":[{"name":"Text","value":"<speak>Something went wrong. To be on the safe side I will block your credit card. Please call our hotline for further inquiries.\n</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"}],"metadata":{"position":{"x":422,"y":541},"useDynamic":false}},{"id":"a0ff0ba7-8d11-4e27-9eb3-6fc32f6dfbd5","type":"SetVoice","branches":[{"condition":"Success","transition":"d6161584-7f49-45d7-a14f-179ebaf43cb8"}],"parameters":[{"name":"GlobalVoice","value":"Kendra"}],"metadata":{"position":{"x":422,"y":16},"overrideConsoleVoice":false,"defaultVoice":"None"}},{"id":"d6161584-7f49-45d7-a14f-179ebaf43cb8","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"1","transition":"c82f7afb-c615-4b92-9df2-1e8b99b4e63e"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"2","transition":"c899490d-428f-4fbb-aac0-9eeadaad4941"},{"condition":"Timeout","transition":"63b6ee6c-6c73-4876-b9be-5ebb5c9e3719"},{"condition":"NoMatch","transition":"63b6ee6c-6c73-4876-b9be-5ebb5c9e3719"},{"condition":"Error","transition":"63b6ee6c-6c73-4876-b9be-5ebb5c9e3719"}],"parameters":[{"name":"Text","value":"<speak>\n<p>\n\tHello $.Attributes.Salutation $.Attributes.Name. This is Kimberly, your personal credit card fraud assistant.\n</p>\n<p>\n\tThere was a suspicious transaction over $.Attributes.Amount dollars the past seconds for your credit card with the last four digits being\n\t<say-as interpret-as=\"digits\">\n\t\t$.Attributes.CardNo\n\t</say-as>\n</p>\n<p>\n\tWhat action do you want me to take for you?\n</p>\n<p>\n\tPlease press 1 if this transaction is valid. I won't take any further actions.\n</p>\n<p>\n\tPlease press 2 if this transaction is fraud. I will block your credit card for the time being.\n</p>\n</speak>","namespace":null},{"name":"TextToSpeechType","value":"ssml"},{"name":"Timeout","value":"5"},{"name":"MaxDigits","value":"1"}],"metadata":{"position":{"x":418,"y":188},"conditionMetadata":[{"id":"a0d7a683-e55b-4d34-86a7-fff277e46327","value":"1"},{"id":"626a284c-fa32-4efd-895f-8290264cf1e6","value":"2"}],"useDynamic":false},"target":"Digits"}],"version":"1","type":"contactFlow","start":"9d2fc362-8e9a-4a27-bbe0-a30b00699858","metadata":{"entryPointPosition":{"x":15,"y":15},"snapToGrid":false,"name":"credit-card-fraud","description":null,"type":"contactFlow","status":"published","hash":"0957315df78f09219be5c9827ae0fbebd39e33da671c492f2a3ef74c3801474f"}}